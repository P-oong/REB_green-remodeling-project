# 에너지소비량-건물 매칭 작업

## 개요
에너지 소비량 보고 건물과 총괄표제부/개별표제부 건물 정보를 매칭하여 분석합니다. 하나의 단지(총괄표제부)에 다수 동이 에너지 소비량 보고를 하는 경우, 하나의 건축물에 해당하는 표제부를 특정하기 어려운 상황입니다.
건축물 대장의 총괄표제부와 개별표제부 간의 식별 변수가 없어 매칭이 어려운 문제를 해결하기 위해 자동화된 매칭 파이프라인을 구축했습니다.

## 작업 목적 및 문제 상황
- 에너지 소비량 보고서의 건물 정보와 건축물 대장의 총괄표제부/개별표제부 간의 매칭 필요
- 건물 식별을 위한 공통 식별 변수 부재로 인한 매칭 어려움
- 대규모 데이터의 효율적인 매칭을 위한 자동화 파이프라인 구축 필요

## 매칭 파이프라인 및 성과
1. 1-3차 매칭: 룰 기반 매칭 (60% 매칭률 달성)
   - 건물명, 주소, 면적 등 기본 정보 기반 매칭
   - 정규화 및 전처리 규칙 적용

2. 4차 매칭: 텍스트 토큰 기반 매칭 (75% 매칭률 달성)
   - 건물에 대한 텍스트 변수 토큰화
   - 토큰 기반으로 매칭

3. 5차 매칭: 점수 가중치 기반 매칭 (85% 매칭률 달성)
   - 다중 특성 가중치 적용
   - 변수별 점수 산출 후 매칭

4. GPT 기반 자동화 매칭 실험
   - 프롬프트 엔지니어링을 통한 매칭 자동화
   - 인간 추론이 필요한 케이스 처리
   - 여러 텍스트 전처리 및 모델링 task에서 LLM을 활용 것이 우수한 성능을 보였기 때문에 시도
   - 아쉽게도 정형 데이터 처리에서는 규칙 기반 전처리 로직이 더 우수한 성능을 보임

## 데이터
- `data/`: 원본 및 전처리 데이터 (Git에 업로드되지 않음)
- 데이터 출처: 한국부동산원, 에너지관리공단 등

## 코드/노트북
- `notebooks/`: 매칭 및 분석 Jupyter Notebook
- `src/`: 파이썬 모듈화 코드 (예: 데이터 처리 함수)

## 산출물
- `result/`: 매칭된 최종 데이터 및 시각화 자료
- 매칭 정확도 보고서
- 매칭 파이프라인 문서화

## 진행 상황
- [x] 데이터 수집
- [x] 전처리
- [x] 1차 매칭 (룰 기반)
- [x] 2차 매칭 (룰 기반)
- [x] 3차 매칭 (룰 기반)
- [x] 4차 매칭 (텍스트 토큰 기반)
- [x] 5차 매칭 (점수 가중치 기반)
- [x] GPT 기반 자동화 매칭 실험
- [x] 최종 검증 및 보완

